# 들어가기
- 허브, 스위치, 라우터, 공유기 학습. 이과정에서 LAN에 대해서도 학습한다.
- AWS를 학습했던 내용을 최대한 네트워크와 연결 지어본다.



# 1.LAN
![](https://velog.velcdn.com/images/leekhy02/post/2905a576-2156-41e8-9ed3-05198e39edf6/image.png)

## 의미
LAN은 근거로 통신망을 의미합니다. **네트워크**란 둘이상의 연결된 컴퓨터 그룹을 말하고, LAN은 일반적으로 동일한 건물 내의 작은 지리적인 WiFi 네트워크와 같은 소규네트워크가 일반적인 예시입니다. 규모에 따라 광역 네트워크(WAN) 대도시 지역 네트워크 (MAN)으로 분류 하기도합니다.

## LAN의 동작 방식
대부분의 LAN은 **라우터**(뒤에서 자세히 배워봅니다.) 라는 중앙 지점에서 인터넷에 연결됩니다. 더 큰 공간의 LAN은 보다 효율적인 패킷 전달을 위해 **네트워크 스위츠를**추가로 사용할 수 있습니다.

LAN은 네트워크 내의 장치를 연결하기 위해 거의 항상 이더넷이나 WiFi를사용하거나 둘 모두를 사용합니다. `이더넷`은 이더넷 케이블을 사용해야 하는 물리적 네트워크 연결용 프로토콜입니다.

## LAN을 설정하려면 어떤 장비가 필요한가.
인터넷 연결 LAN은 라우터와 이더넷 케이블 또는 WiFi 핫스팟과 같은 컴퓨팅 장치를 라우터에 연결하는 방법만 있으면 됩니다. 인터넷에 연결되지 않은 LAN에는 데이터 교환을 위한 스위치가 필요합니다. 대부분의 LAN은 라우터라는 중앙 지점에서 인터넷에 연결됩니다.

## 정리
`LAN`이란 근거리 영역 네트워크 "집, 사무실, 빌딩"등 제한된 지역에서 여러대의 장치들을 연결 하기 위하여 최적화 되고 신뢰성 있는 고속 통신을 제공하는 네트워크다.

LAN은 일반적으로 훨씬 더 큰 네트워크인 자율 시스템(AS)에 연결됩니다. AS는 자체 라우팅 정책을 갖추고 특정 IP 주소를 제어하는 아주 규모가 큰 네트워크입니다.

인터넷이라는 것은 네트워크의 네트워크입니다. LAN이라는 작은 네트워크가 더 큰 네트워크 예를들어 AS에 연결되어있고 다시 더큰 네트워크로 연결되어 있다고 가정한다면 이것이 인터넷이라고 볼수 있습니다. 

# 2.공유기
한개의 공인IP로 여러 컴퓨터를 사용할 수 있게된다. 돈을 절약해주는 기기로 볼 수도있겠다.
# 3.라우터

라우터는 둘 이상의 패킷 교환 네트워크 또는 하위 네트워크를 연결하는 장치입니다.
두 가지 기능을 정리해보겠습니다.
- 둘 이상의 패킷 교환
데이터 패킷은 인터넷 프로토콜(IP)기반의 패킷 형식으로 전송됩니다. 각 패킷에는 출발지와 목적지의 IP주소가 포함됩니다. 라우터는 이를 바탕으로 IP주소를 목적지로 전달합니다.
- 네트워크 또는 하위 네트워크를 연결하는 장치
대부분의 라우터는 LAN(Local Area Network) 과 WAN(Wide Area Network) 간에 데이터를 전달합니다.예를들어 LAN에서 생성된 데이터 패킷은 라우터를 통해 WAN으로 전송되고, WAN에서 수신된 데이터 패킷은 라우터를 통해 LAN으로 전달됩니다.

## 공인IP와 사설IP를 통한 라우터 기능
![](https://velog.velcdn.com/images/leekhy02/post/a04c3eb5-0cfb-4b8c-a3f2-6f543cdf3c0f/image.png)

서설 IP를 할당받은 스마트폰 혹은 개인 PC가 데이터 패킷을 인터넷으로 연결하면, 라우터(공유기)가 해당 사설 IP를 공인 IP로 바꿔서 전송한다.

인터넷에서 오는 데이터 패킷의 목적지도 해당하는 사설 IP로 변경한 후 개인 스마트폰 혹은 PC에 전송한다.


## 라우터의 동작 원리
![](https://velog.velcdn.com/images/leekhy02/post/5b160f6f-a282-4efc-8cf2-fbf29bc437a4/image.png)
라우터는 교통 관제사입니다. `데이터 패킷을 다른 공항(네트워크)`로 효율적으로 안내해야합니다.  패킷을 효율적으로 전달하기 위해 라우터는 다양한 네트워크 대상에 대한 경로 목록인 내부 `라우팅 테이블`을 사용합니다. 라우터는 패킷의 헤더를 읽고 목적지를 결정한 다음 라튕 테이블을 참조하여 해당 목적지에 대한 가장 효율적인 경로를 알아냅니다. 그런 다음 패킷을 다음 네트워크로 전달합니다.

## 라우팅
네트워크 라우팅은 하나 이상의 네트워크에서 경로를 선택하는 프로세스입니다.
라우팅은 IP 패킷이 출발지에서 목적지로 이동하는 경로를 선택합니다. "이러한 인터넷 라우팅 결정은 라우터" 라고 하는 네트워크 하드웨어의 특수 부분에 의해 이루어집니다.

## 라우팅 테이블
AWS를 사용하면서 서브넷 도는 게이트웨이를 다루면서 썼던 기억이 있습니다.
라우틴 테이블이란 네트워크상의 특정 목적지까지의 거리와 가는 방법등을 명시하고 있는 테이블입니다. 패킷을 전송할때 패킷이 목적지 쪽으로 보낼 수 있도록 라우터에게 목적지에 대한 정보를 알려줍니다.

### aws 라우팅 테이블
추가적으로 aws에서의 라우팅 테이블은 VPC 내에서 각 각의 Subnet이 있다면 각 Subnet은 각기 다른 네트워크 대역을 가지고 있습니다. 이 Subnet 끼리 연결 하고자 한다면 라우팅이 필요합니다. ASW에서의 라우팅 테이블은 Subnet이 라우터를 통해 보내는 네트워크 트랙픽이 전달되는 위치를 제어하는 역할을 합니다. 다시 말해 라우팅에 대한 하나의 규칙을 정의합니다.
## 정리
라우터는 패킷을 목적지로 전달하는 역할을 하는 네트워크 하드웨어 입니다. 라우팅은 라우터에 의해 결정된 IP 패킷이 출발지에서 목적지로 이동하는 경로를 선택하는 프로세스입니다.

# 4.허브
허브는 소규모 네트워크(LAN-Local Area Network) 구축시 사용합니다.
정식 명칭은 이더넷 허브(ethernet hub)이다. 허브는 리피터 와 함께 OSI 7계층에서 제일 낮은 물리계층 장치로서, 여러 대의 PC를 하나의 근거리 통신망(LAN)에 연결하는 네트워크 장치입니다.

가장 큰 단점은 컴퓨터 대수가 추가될수록 전체 네트워크의 속도가 느려진다는 점입니다.

# 5.스위치
![](https://velog.velcdn.com/images/leekhy02/post/f8cfe015-6821-4e78-b1e8-6ce58791cb48/image.png)

네트워크 스위치는 네트워크(근거리 통신망,즉 LAN)내의 장치를 연결하고 해당 장치와 데이터 패킷을 주고 받습니다. `라우터`와 달리 스위치는 여러 장치의 네트워크가 아닌  의도된 단일 장치로만 데이터를 전송합니다.

## 스위치와 라우터의 차이점은?
기능, 네트워크 범위, 패킷 전달 방식, 계층 등 차이점이 있습니다.

### 기능
먼저 스위치는 MAC주소를 기반으로 패킷을 전달하며 주로 이더넷 기술을 사용하여 유선 네트워크를 연결합니다. 라우터는 IP 주소를 기반으로 패킷을 전달하며 다른 네트워크 간에 패킷을 경로 선택하고 전송합니다.

# 정리
허브, 스위치, 라우터, 공유기의 차이점
- HUB
	- 허브 소규모 네트워크 구축시 사용(LAN)
	- 단순히 컴퓨터와 컴퓨터간 네트워크 중계 역할만한다.
	- 컴퓨터 대수가 추가 될수록 전체 네트워크 속도가 느려진다.
- Switch는
	- 해당 장치의 MAC 주소를 기록합니다.
    - 컴퓨터의 수가 몇대가 되든간에 전체 대역폭을 보합니다.
    - 데이터가 지정된 포트로만 통신합니다.
- Router
	- IP주소를 기준으로 한 네트워에서 다른 네트워크로 라우팅합니다.
    - 라우팅 할 때 어떤 네트워크로 통신을 할지 효율적으로 계산이 가능합니다.
    - 라우터는 쉽게 말해 네트워크의 `게이트웨이`이다.

HUB 및 Switch는 근거리 통신(LAN)을 만드는 데 사용됩니다. Router는 그렇게 만들어진 근거리 네트워크를 연결하여 광역 네트워크(WAN)을 만드는데 사용됩니다.
![](https://velog.velcdn.com/images/leekhy02/post/8f8c8cb4-3663-42e0-9ffb-642b839ff459/image.png)

## 추가적으로 학습
### NAT
1개의 공인IP에 다수의 사설IP를 병합시켜주는 기능.
### DHCP서버
한 개의 공인IP를 받아서 여러개의 사설 IP를 만들고 이를 연결된 장비에 할당해주는 역할을한다.

